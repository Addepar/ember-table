## Column Keys

Ember Table will update the table layout as the `columns` array changes. When
objects are removed and re-added to the array, meta data about the state of
the column is preserved and recovered. By default, Ember Table uses the objects
themselves as keys to save and retrieve this data.

If your application is written in a functional style, this can pose a problem.
For example, if your columns are generated by a getter that depends on tracked
properties, you may be frequently passing new columns to Ember Table that aren't
really new at all.

```js
get columns() {
  // `data` could be a tracked property that updates frequently
  return this.data.headers.map((header, index) => {
    heading: header.name,
    valuePath: `${index}`,
    // ...
  });
}
```

This can have unexpected consequences, as meta data about your columns
is being lost each time `columns` is re-computed.

To handle this scenario, you can specify a `columnKeyPath` property that
identifies a "key" property on each column object. This acts like a primary key
in a database, identifying when two objects represent the same underlying
entity. When `columns` is updated, these keys are used to preserve the state
of your table, even if the replacement column objects are not identical to the
originals.

```js
get columns() {
  return this.data.headers.map((header, index) => {
    heading: header.name,
    valuePath: `${index}`,

    // assumes headers have distinct names
    key: header.name,

    // ...
  });
}
```

```hbs
<EmberTable as |t|>
  <t.head
    @columns={{this.columns}}
    @columnKeyPath="key"
  />

  <t.body @rows={{this.rows}} />
</EmberTable>
```
