<table>
  <thead>
    <tr>
      {{#each columns as |column columnIndex|}}
        {{ember-table-header
          column=column
          tableHasSubcolumns=hasSubcolumns
          columnIndex=columnIndex
          numFixedColumns=numFixedColumns
          onColumnResizing="onColumnResizing"
          onColumnResizeEnded="onColumnResizeEnded"
          onColumnReordering="onColumnReordering"
          onColumnReorderEnded="onColumnReorderEnded"
          onHeaderEvent="sendHeaderEvent"
          width=column.width
        }}
      {{/each}}
    </tr>

    {{#if hasSubcolumns}}
      <tr>
        {{#each columns as |column columnIndex|}}
          {{#each column.subcolumns as |subcolumn subcolumnIndex|}}
            {{ember-table-header
              column=subcolumn
              tableHasSubcolumns=false
              columnIndex=columnIndex
              numFixedColumns=numFixedColumns
              onColumnResizing="onColumnResizing"
              onColumnResizeEnded="onColumnResizeEnded"
              onColumnReordering="onColumnReordering"
              onColumnReorderEnded="onColumnReorderEnded"
              onHeaderEvent="sendHeaderEvent"
              width=column.width
            }}
          {{/each}}
        {{/each}}
      </tr>
    {{/if}}
  </thead>

  <tbody>
    {{#component _bodyComponent
      api=api
      rows=rows
      estimateRowHeight=estimateRowHeight
      staticHeight=staticHeight

      as |row|}}
      {{yield row}}
    {{/component}}
  </tbody>

  {{#if footerRows}}
    <tfoot>
      {{#each footerRows as |footerRow footerRowIndex|}}
        <tr>
        {{#each bodyColumns as |column columnIndex|}}
          {{ember-table-footer
            column=column
            rowValue=footerRow
            rowIndex=footerRowIndex
            columnIndex=columnIndex
            numFixedColumns=numFixedColumns
            onFooterEvent="sendFooterEvent"
          }}
        {{/each}}
        </tr>
      {{/each}}
    </tfoot>
  {{/if}}
</table>

